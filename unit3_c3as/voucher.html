<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Document</title>
  </head>
  <body>
    <h1 id="wallet_balance">0</h1>
    <h1>Add money</h1>
    <input type="number" placeholder="enter amount" id="amount">
    <button onclick="addamount()">Add Money</button>
   <div class="voucher">voucher card</div>
   <div id="voucher_list">
     <button class="buy_voucher">Buy</button>
   </div>

    
    <!-- Wallet balence id:- "wallet_balance" (only number). -->
    <!-- - The voucher card will have class :- "voucher".
  - All the vouchers will be appended inside div with id "voucher_list".
  - Buy button will have class:- "buy_voucher"
  - All the purchased voucher will be stored with key :- "purchase". -->
  </body>
</html>
<script>
  function totalamount(amount){
    this.amount=amount
  }
  function addamount(){
    var amount=document.getElementById("amount")
    let show=document.getElementById("wallet_balance")

    let v=+(show.textContent);
    let total=+ amount+v;
    localStorage.setItem("amount",total)
  }
  var showAmount=document.getElementById("wallet_balance")
  showAmount.innerText=`${localStorage.getItem("amount")}`

//   let Class;
//   let voucher_div=document.getElementByClass("voucher")

//  async function voucher1(a){
//     try{
//       let url="https://masai-vouchers-api.herokuapp.com/api/vouchers";
//       let res=await fetch(url)
//       let data=await res.json();
//       // return data.Search
//       console.log(data);
//     }
//     catch(error){
//      console.log("error",error) 
//     }
//   }
//   voucher1(a)

  const url="https://masai-vouchers-api.herokuapp.com/api/vouchers";
let x=fetch(url);
console.log("x:",x)
const container=document.getElementByClass("voucher");
fetch(url)
.then(function(res){
    console.log("res:",res);
    return res.json();
})
.then(function(res){
    console.log("res:",res)
    appendData(res);

})
.catch(function(err){
    console.log("err:",err);

});
//ctrl d to change all at a time
function appendData(data){
    // console.log(data);
    data.forEach(function(el){
 let div=document.getElementById("voucher_list")

 let name=document.createElement("p");
 name.innerText=el.name;

 let price=document.createElement("p");
 price.innerText=el.price;

 let image=document.createElement("img");
 image.src=el.image;
 let btn=document.getElementByClass(buy_voucher)
 btn.innerText=Buy

 div.append(image,name,price,btn);
 
 container.append(div);
 
 
    });
    
}
</script>
